<!DOCTYPE html>
<html>

<head>
    <title>Test Pathfinding Function</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
    <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    <script src="geo-tools.js"></script>
</head>

<body>
    <h1>Test Pathfinding Function</h1>
    <div id="result"></div>

    <script>
        // Тестовые данные - простая железнодорожная сеть
        const temp1 = '{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"color":"#f55d56"},"geometry":{"type":"LineString","coordinates":[[-103.699951171875,38.04464383875498],[-103.71849060058594,38.052214010180904],[-103.8387393951416,38.10065807615075],[-103.84809494018555,38.104372822873614],[-103.8493824005127,38.10477805654514],[-103.8753890991211,38.11247706923868],[-103.88328552246094,38.1147055793636],[-103.8856029510498,38.11504322648102],[-103.95169258117676,38.121728317955245],[-104.02773857116699,38.132733751336986],[-104.03520584106445,38.13394897354024],[-104.03735160827637,38.1345565770541],[-104.04104232788086,38.13604180879216],[-104.073486328125,38.14954252902206]]}},{"type":"Feature","properties":{"color":"#d3e58b"},"geometry":{"type":"LineString","coordinates":[[-103.73445510864258,38.05863452411495],[-103.73376846313477,38.05822903463502],[-103.73076438903809,38.05701255271461],[-103.72913360595703,38.05647188759269]]}},{"type":"Feature","properties":{"color":"#d3e58b"},"geometry":{"type":"LineString","coordinates":[[-103.81865501403809,38.09255251867157],[-103.81659507751465,38.091606811739695],[-103.80646705627441,38.08748608873344],[-103.8028621673584,38.0862025374021]]}},{"type":"Feature","properties":{"color":"#d3e58b"},"geometry":{"type":"LineString","coordinates":[[-103.87418746948242,38.11207187827415],[-103.87272834777832,38.11153162015822],[-103.84818077087402,38.10430528370986],[-103.84612083435059,38.10356234878756]]}},{"type":"Feature","properties":{"color":"#d3e58b"},"geometry":{"type":"LineString","coordinates":[[-104.03160095214844,38.13334136496786],[-104.02344703674316,38.13199110558526],[-104.01494979858398,38.130910880093666]]}},{"type":"Feature","properties":{"color":"#c41f6f"},"geometry":{"type":"LineString","coordinates":[[-103.55575561523438,37.988451423348124],[-103.55815887451172,37.988451423348124],[-103.56039047241211,37.98858671553364],[-103.5629653930664,37.989195527281055],[-103.56476783752441,37.98987197885275],[-103.71849060058594,38.052214010180904],[-103.721923828125,38.05356574413122]]}},{"type":"Feature","properties":{"color":"#376f1c"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.988451423348124],[-103.52983474731445,37.98858671553364],[-103.52099418640137,37.98797789873403],[-103.50949287414551,37.98851906947206],[-103.50829124450684,37.98865436153284],[-103.50683212280273,37.98906023621825],[-103.50580215454102,37.98953375384659],[-103.48726272583008,38.00184413939206],[-103.47413063049316,38.00847195269586],[-103.47129821777344,38.00975686756979],[-103.4319019317627,38.02943353928845],[-103.42005729675293,38.033151904202526],[-103.39568138122559,38.04052046968823],[-103.3937931060791,38.04119644774272],[-103.39156150817871,38.042210403124216],[-103.38486671447754,38.04633367702752],[-103.38297843933105,38.04741515305355],[-103.38151931762695,38.048023476297686],[-103.36418151855469,38.05430918716337],[-103.35474014282227,38.05667463748151],[-103.35139274597168,38.05701255271461],[-103.348388671875,38.057147718371]]}},{"type":"Feature","properties":{"color":"#eeb8f5"},"geometry":{"type":"LineString","coordinates":[[-103.5585880279541,37.98750437106375],[-103.55790138244629,37.98797789873403],[-103.55738639831543,37.98818083822857],[-103.55669975280762,37.988383777161786],[-103.55575561523438,37.988451423348124]]}},{"type":"Feature","properties":{"color":"#eeb8f5"},"geometry":{"type":"LineString","coordinates":[[-103.40950012207031,38.03632926647353],[-103.40143203735352,38.03869529777211],[-103.39473724365234,38.04085845949547]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55669975280762,37.98750437106375],[-103.5556697845459,37.98831613091309],[-103.55472564697266,37.988451423348124]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55034828186035,37.988248484602025],[-103.54957580566406,37.98811319179279],[-103.54863166809082,37.98811319179279]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55034828186035,37.988248484602025],[-103.54837417602539,37.988248484602025]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55189323425293,37.988451423348124],[-103.55034828186035,37.988248484602025]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55592727661133,37.98851906947206],[-103.55120658874512,37.98858671553364]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55120658874512,37.98858671553364],[-103.55060577392578,37.98858671553364]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55120658874512,37.98858671553364],[-103.55077743530273,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55060577392578,37.98858671553364],[-103.54991912841797,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55060577392578,37.98858671553364],[-103.53378295898438,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.98865436153284],[-103.54948997497559,37.98885729915622]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.98865436153284],[-103.54974746704102,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.98865436153284],[-103.5490608215332,37.98899259059327]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54991912841797,37.98865436153284],[-103.5340404510498,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54991912841797,37.98865436153284],[-103.54880332946777,37.98878965334414],[-103.53507041931152,37.98885729915622]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.56064796447754,37.98865436153284],[-103.55978965759277,37.988248484602025],[-103.55944633483887,37.987910252111135],[-103.55936050415039,37.98750437106375]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53378295898438,37.98865436153284],[-103.53318214416504,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53318214416504,37.98865436153284],[-103.51910591125488,37.989195527281055],[-103.51704597473145,37.98912788178083],[-103.51009368896484,37.98851906947206]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.55893135070801,37.98872200746969],[-103.55730056762695,37.98872200746969],[-103.55592727661133,37.98851906947206]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.5340404510498,37.98872200746969],[-103.53378295898438,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.5600471496582,37.98878965334414],[-103.55927467346191,37.98865436153284],[-103.55893135070801,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.5600471496582,37.98878965334414],[-103.55893135070801,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54948997497559,37.98885729915622],[-103.5354995727539,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54948997497559,37.98885729915622],[-103.54820251464844,37.98906023621825]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53507041931152,37.98885729915622],[-103.5340404510498,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53507041931152,37.98885729915622],[-103.5354995727539,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54974746704102,37.98892494490592],[-103.54803085327148,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54974746704102,37.98892494490592],[-103.54665756225586,37.98960139897257]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.5490608215332,37.98899259059327],[-103.54811668395996,37.989195527281055]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.5490608215332,37.98899259059327],[-103.54691505432129,37.98933081809439],[-103.53790283203125,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54820251464844,37.98906023621825],[-103.53644371032715,37.98912788178083]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54820251464844,37.98906023621825],[-103.54734420776367,37.989195527281055],[-103.53738784790039,37.98926317271892]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53644371032715,37.98912788178083],[-103.5354995727539,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54811668395996,37.989195527281055],[-103.54665756225586,37.989466108658235],[-103.53824615478516,37.9893984634075]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54811668395996,37.989195527281055],[-103.54682922363281,37.98953375384659],[-103.54391098022461,37.98960139897257],[-103.5395336151123,37.98960139897257],[-103.53824615478516,37.9893984634075]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53738784790039,37.98926317271892],[-103.53644371032715,37.98912788178083]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53738784790039,37.98926317271892],[-103.53790283203125,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53704452514648,37.98933081809439],[-103.53318214416504,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54803085327148,37.98933081809439],[-103.54743003845215,37.989466108658235]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54803085327148,37.98933081809439],[-103.54519844055176,37.99061606837755],[-103.54485511779785,37.99088664451533]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.53790283203125,37.98933081809439],[-103.53824615478516,37.9893984634075]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54743003845215,37.989466108658235],[-103.54657173156738,37.9897366890374]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54743003845215,37.989466108658235],[-103.54451179504395,37.99054842418718],[-103.54373931884766,37.991089575963755],[-103.54236602783203,37.99284829166838],[-103.54159355163574,37.993118859572775],[-103.54107856750488,37.993118859572775],[-103.54056358337402,37.99305121769025],[-103.53979110717773,37.99251008038445],[-103.5395336151123,37.99183365313853],[-103.53970527648926,37.991360150355106],[-103.54004859924316,37.99095428839385],[-103.54073524475098,37.99061606837755],[-103.54167938232422,37.99061606837755],[-103.54279518127441,37.99081900057445],[-103.54365348815918,37.990751356571195]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54665756225586,37.98960139897257],[-103.53961944580078,37.98966904403618],[-103.53318214416504,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54665756225586,37.98960139897257],[-103.54545593261719,37.9899396236669]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54657173156738,37.9897366890374],[-103.54365348815918,37.990751356571195]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54657173156738,37.9897366890374],[-103.54047775268555,37.9919689390867]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54545593261719,37.9899396236669],[-103.54056358337402,37.990074913108],[-103.53910446166992,37.9899396236669],[-103.53798866271973,37.98953375384659],[-103.53704452514648,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54545593261719,37.9899396236669],[-103.54331016540527,37.99068371250556],[-103.54262351989746,37.99068371250556],[-103.54056358337402,37.990345491241754]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54004859924316,37.990345491241754],[-103.53524208068848,37.990277846801874]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54004859924316,37.990345491241754],[-103.53893280029297,37.990345491241754],[-103.53721618652344,37.99061606837755],[-103.53515625,37.99061606837755]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54056358337402,37.990345491241754],[-103.53704452514648,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54056358337402,37.990345491241754],[-103.54004859924316,37.990345491241754]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54365348815918,37.990751356571195],[-103.5417652130127,37.991292506850826],[-103.54056358337402,37.991292506850826]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54485511779785,37.99088664451533],[-103.54391098022461,37.99169836694085],[-103.54313850402832,37.99203658196724]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.56742858886719,37.99095428839385],[-103.56639862060547,37.99068371250556],[-103.56425285339355,37.9897366890374],[-103.56184959411621,37.98899259059327],[-103.55901718139648,37.98851906947206],[-103.55592727661133,37.98851906947206]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.54228019714355,37.993118859572775],[-103.54313850402832,37.99284829166838],[-103.54365348815918,37.99244243794057],[-103.54459762573242,37.991089575963755],[-103.54485511779785,37.99088664451533]]}},{"type":"Feature","properties":{"color":"#c7cfb9"},"geometry":{"type":"LineString","coordinates":[[-103.66458892822266,38.03038005008321],[-103.66321563720703,38.02970397219201],[-103.6548900604248,38.02645871146123]]}},{"type":"Feature","properties":{"color":"#3de80b"},"geometry":{"type":"LineString","coordinates":[[-103.370361328125,38.052011247935326],[-103.36418151855469,38.05430918716337],[-103.35474014282227,38.05667463748151],[-103.35139274597168,38.05701255271461],[-103.33525657653809,38.057891125018784],[-103.22916984558105,38.063365068700364],[-103.21243286132812,38.063297491645216],[-103.17801475524902,38.06248656211528]]}},{"type":"Feature","properties":{"color":"#9745a0"},"geometry":{"type":"LineString","coordinates":[[-103.90954971313477,37.709899354855125],[-103.90010833740234,37.71363388124942]]}},{"type":"Feature","properties":{"color":"#9745a0"},"geometry":{"type":"LineString","coordinates":[[-103.90946388244629,37.709899354855125],[-103.90010833740234,37.71363388124942]]}},{"type":"Feature","properties":{"color":"#9745a0"},"geometry":{"type":"LineString","coordinates":[[-103.90010833740234,37.71363388124942],[-103.89667510986328,37.71512763910704],[-103.8841438293457,37.72218863220941],[-103.88259887695312,37.723342769007715],[-103.87204170227051,37.734611630216975],[-103.86191368103027,37.743367573190866],[-103.85358810424805,37.75008654795525],[-103.85161399841309,37.751851026046666],[-103.83599281311035,37.770104118121296],[-103.8343620300293,37.77159673680207],[-103.82801055908203,37.7761422535397],[-103.82655143737793,37.77749907004605],[-103.82509231567383,37.779466409747215],[-103.82389068603516,37.782179895833735],[-103.82268905639648,37.784350612981044],[-103.82131576538086,37.78604644139227],[-103.8196849822998,37.78760656916262],[-103.78423690795898,37.81324221081577]]}},{"type":"Feature","properties":{"color":"#9745a0"},"geometry":{"type":"LineString","coordinates":[[-103.78423690795898,37.81324221081577],[-103.76973152160645,37.82368381015898]]}},{"type":"Feature","properties":{"color":"#9745a0"},"geometry":{"type":"LineString","coordinates":[[-103.78423690795898,37.81324221081577],[-103.77076148986816,37.82273463488919],[-103.76973152160645,37.82368381015898]]}},{"type":"Feature","properties":{"color":"#9745a0"},"geometry":{"type":"LineString","coordinates":[[-103.76973152160645,37.82368381015898],[-103.699951171875,37.87410813135479]]}},{"type":"Feature","properties":{"color":"#c65a12"},"geometry":{"type":"LineString","coordinates":[[-103.55575561523438,37.988451423348124],[-103.55077743530273,37.988451423348124]]}},{"type":"Feature","properties":{"color":"#c914b6"},"geometry":{"type":"LineString","coordinates":[[-103.55575561523438,37.988451423348124],[-103.55815887451172,37.988451423348124],[-103.56039047241211,37.98858671553364],[-103.5629653930664,37.989195527281055],[-103.56476783752441,37.98987197885275],[-103.60158920288086,38.00481996641318]]}},{"type":"Feature","properties":{"color":"#b5a5ac"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.988451423348124],[-103.52983474731445,37.98858671553364],[-103.52099418640137,37.98797789873403],[-103.50949287414551,37.98851906947206],[-103.50829124450684,37.98865436153284],[-103.50683212280273,37.98906023621825],[-103.50580215454102,37.98953375384659],[-103.48726272583008,38.00184413939206],[-103.48142623901367,38.00481996641318]]}},{"type":"Feature","properties":{"color":"#f6b9be"},"geometry":{"type":"LineString","coordinates":[[-103.721923828125,37.85818482027953],[-103.61394882202148,37.936210007910574],[-103.61120223999023,37.9383761934526],[-103.59463691711426,37.953334669334566]]}},{"type":"Feature","properties":{"color":"#f6b9be"},"geometry":{"type":"LineString","coordinates":[[-103.59463691711426,37.953334669334566],[-103.58090400695801,37.96571879465374]]}},{"type":"Feature","properties":{"color":"#f6b9be"},"geometry":{"type":"LineString","coordinates":[[-103.59463691711426,37.953334669334566],[-103.59171867370605,37.95577105570288],[-103.58159065246582,37.96483911695162],[-103.58090400695801,37.96571879465374]]}},{"type":"Feature","properties":{"color":"#f6b9be"},"geometry":{"type":"LineString","coordinates":[[-103.58090400695801,37.96571879465374],[-103.57558250427246,37.970455339584035],[-103.56425285339355,37.97958924185211],[-103.56313705444336,37.98087466278139],[-103.55875968933105,37.98736907688229],[-103.55790138244629,37.98797789873403],[-103.55738639831543,37.98818083822857],[-103.55669975280762,37.988383777161786],[-103.55575561523438,37.988451423348124]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55721473693848,37.987098487770965],[-103.5556697845459,37.98831613091309],[-103.55472564697266,37.988451423348124]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55034828186035,37.988248484602025],[-103.54957580566406,37.98811319179279],[-103.54863166809082,37.98811319179279]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55034828186035,37.988248484602025],[-103.54837417602539,37.988248484602025]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55189323425293,37.988451423348124],[-103.55034828186035,37.988248484602025]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55592727661133,37.98851906947206],[-103.55120658874512,37.98858671553364]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55120658874512,37.98858671553364],[-103.55060577392578,37.98858671553364]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55120658874512,37.98858671553364],[-103.55077743530273,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55060577392578,37.98858671553364],[-103.54991912841797,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55060577392578,37.98858671553364],[-103.53378295898438,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.98865436153284],[-103.54948997497559,37.98885729915622]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.98865436153284],[-103.54974746704102,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55077743530273,37.98865436153284],[-103.5490608215332,37.98899259059327]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54991912841797,37.98865436153284],[-103.5340404510498,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54991912841797,37.98865436153284],[-103.54880332946777,37.98878965334414],[-103.53507041931152,37.98885729915622]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.56064796447754,37.98865436153284],[-103.55978965759277,37.988248484602025],[-103.55944633483887,37.987910252111135],[-103.55927467346191,37.98736907688229],[-103.55927467346191,37.98676024997843],[-103.55944633483887,37.9864220106266]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53378295898438,37.98865436153284],[-103.53318214416504,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53318214416504,37.98865436153284],[-103.51910591125488,37.989195527281055],[-103.51704597473145,37.98912788178083],[-103.51009368896484,37.98851906947206]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.55893135070801,37.98872200746969],[-103.55730056762695,37.98872200746969],[-103.55592727661133,37.98851906947206]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.5340404510498,37.98872200746969],[-103.53378295898438,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.5600471496582,37.98878965334414],[-103.55927467346191,37.98865436153284],[-103.55893135070801,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.5600471496582,37.98878965334414],[-103.55893135070801,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54948997497559,37.98885729915622],[-103.5354995727539,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54948997497559,37.98885729915622],[-103.54820251464844,37.98906023621825]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53507041931152,37.98885729915622],[-103.5340404510498,37.98872200746969]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53507041931152,37.98885729915622],[-103.5354995727539,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54974746704102,37.98892494490592],[-103.54803085327148,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54974746704102,37.98892494490592],[-103.54665756225586,37.98960139897257]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.5490608215332,37.98899259059327],[-103.54811668395996,37.989195527281055]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.5490608215332,37.98899259059327],[-103.54691505432129,37.98933081809439],[-103.53790283203125,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54820251464844,37.98906023621825],[-103.53644371032715,37.98912788178083]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54820251464844,37.98906023621825],[-103.54734420776367,37.989195527281055],[-103.53738784790039,37.98926317271892]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53644371032715,37.98912788178083],[-103.5354995727539,37.98892494490592]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54811668395996,37.989195527281055],[-103.54665756225586,37.989466108658235],[-103.53824615478516,37.9893984634075]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54811668395996,37.989195527281055],[-103.54682922363281,37.98953375384659],[-103.54391098022461,37.98960139897257],[-103.5395336151123,37.98960139897257],[-103.53824615478516,37.9893984634075]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53738784790039,37.98926317271892],[-103.53644371032715,37.98912788178083]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53738784790039,37.98926317271892],[-103.53790283203125,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53704452514648,37.98933081809439],[-103.53318214416504,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54803085327148,37.98933081809439],[-103.54743003845215,37.989466108658235]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54803085327148,37.98933081809439],[-103.54519844055176,37.99061606837755],[-103.54485511779785,37.99088664451533]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.53790283203125,37.98933081809439],[-103.53824615478516,37.9893984634075]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54743003845215,37.989466108658235],[-103.54657173156738,37.9897366890374]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54743003845215,37.989466108658235],[-103.54451179504395,37.99054842418718],[-103.54373931884766,37.991089575963755],[-103.54236602783203,37.99284829166838],[-103.54159355163574,37.993118859572775],[-103.54107856750488,37.993118859572775],[-103.54056358337402,37.99305121769025],[-103.53979110717773,37.99251008038445],[-103.5395336151123,37.99183365313853],[-103.53970527648926,37.991360150355106],[-103.54004859924316,37.99095428839385],[-103.54073524475098,37.99061606837755],[-103.54167938232422,37.99061606837755],[-103.54279518127441,37.99081900057445],[-103.54365348815918,37.990751356571195]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54665756225586,37.98960139897257],[-103.53961944580078,37.98966904403618],[-103.53318214416504,37.98865436153284]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54665756225586,37.98960139897257],[-103.54545593261719,37.9899396236669]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54657173156738,37.9897366890374],[-103.54365348815918,37.990751356571195]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54657173156738,37.9897366890374],[-103.54047775268555,37.9919689390867]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54545593261719,37.9899396236669],[-103.54056358337402,37.990074913108],[-103.53910446166992,37.9899396236669],[-103.53798866271973,37.98953375384659],[-103.53704452514648,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54545593261719,37.9899396236669],[-103.54331016540527,37.99068371250556],[-103.54262351989746,37.99068371250556],[-103.54056358337402,37.990345491241754]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54004859924316,37.990345491241754],[-103.53524208068848,37.990277846801874]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54004859924316,37.990345491241754],[-103.53893280029297,37.990345491241754],[-103.53721618652344,37.99061606837755],[-103.53515625,37.99061606837755]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54056358337402,37.990345491241754],[-103.53704452514648,37.98933081809439]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54056358337402,37.990345491241754],[-103.54004859924316,37.990345491241754]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54365348815918,37.990751356571195],[-103.5417652130127,37.991292506850826],[-103.54056358337402,37.991292506850826]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54485511779785,37.99088664451533],[-103.54391098022461,37.99169836694085],[-103.54313850402832,37.99203658196724]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.56742858886719,37.99095428839385],[-103.56639862060547,37.99068371250556],[-103.56425285339355,37.9897366890374],[-103.56184959411621,37.98899259059327],[-103.55901718139648,37.98851906947206],[-103.55592727661133,37.98851906947206]]}},{"type":"Feature","properties":{"color":"#99d251"},"geometry":{"type":"LineString","coordinates":[[-103.54228019714355,37.993118859572775],[-103.54313850402832,37.99284829166838],[-103.54365348815918,37.99244243794057],[-103.54459762573242,37.991089575963755],[-103.54485511779785,37.99088664451533]]}},{"type":"Feature","properties":{"color":"#1eb196"},"geometry":{"type":"LineString","coordinates":[[-104.073486328125,37.56662335853238],[-104.0544319152832,37.572542017059206],[-104.05254364013672,37.57335834684213],[-104.05134201049805,37.57403861482581],[-104.05014038085938,37.57485492820365],[-104.04919624328613,37.575671232633184],[-104.04782295227051,37.57730381464705],[-104.04687881469727,37.57886833882233],[-104.04413223266602,37.58573825148717],[-104.0431022644043,37.58771068352222],[-104.03168678283691,37.601380241358314],[-104.0306568145752,37.60274025900664],[-104.03005599975586,37.603760255926645],[-104.02765274047852,37.61171575191098],[-104.02456283569336,37.62599271288586]]}},{"type":"Feature","properties":{"color":"#1eb196"},"geometry":{"type":"LineString","coordinates":[[-104.02456283569336,37.62599271288586],[-104.02164459228516,37.63965523613027],[-104.0211296081543,37.64149030906914],[-104.02018547058105,37.64325737350208],[-104.01803970336914,37.645771969647]]}},{"type":"Feature","properties":{"color":"#1eb196"},"geometry":{"type":"LineString","coordinates":[[-104.02456283569336,37.62599271288586],[-104.02430534362793,37.62789610053861],[-104.0214729309082,37.640742692232436],[-104.02095794677734,37.64210198997574],[-104.02027130126953,37.643393299794354],[-104.01803970336914,37.645771969647]]}},{"type":"Feature","properties":{"color":"#1eb196"},"geometry":{"type":"LineString","coordinates":[[-104.01803970336914,37.645771969647],[-104.01400566101074,37.65059703735662],[-104.00988578796387,37.65759622623227],[-104.00739669799805,37.663303814171016],[-104.00602340698242,37.66724451164386],[-104.00507926940918,37.669146842439446],[-104.00387763977051,37.67064149671447],[-104.00301933288574,37.671456749994775],[-104.00104522705078,37.672815485559056],[-103.99374961853027,37.67655188007849],[-103.99134635925293,37.6773670684243],[-103.98971557617188,37.67770672759161],[-103.98842811584473,37.67784259082313],[-103.98113250732422,37.67763879588256],[-103.97881507873535,37.67770672759161],[-103.9775276184082,37.67784259082313],[-103.97632598876953,37.67811431653976],[-103.97400856018066,37.67892948771845],[-103.93495559692383,37.69957750311585],[-103.93203735351562,37.70086781319118],[-103.9225959777832,37.70460279469965]]}},{"type":"Feature","properties":{"color":"#1eb196"},"geometry":{"type":"LineString","coordinates":[[-103.9225959777832,37.70460279469965],[-103.91555786132812,37.70752274006492],[-103.90010833740234,37.71363388124942]]}},{"type":"Feature","properties":{"color":"#1eb196"},"geometry":{"type":"LineString","coordinates":[[-103.9225959777832,37.70460279469965],[-103.90010833740234,37.71363388124942]]}},{"type":"Feature","properties":{"color":"#1eb196"},"geometry":{"type":"LineString","coordinates":[[-103.90010833740234,37.71363388124942],[-103.89667510986328,37.71512763910704],[-103.8841438293457,37.72218863220941],[-103.88259887695312,37.723342769007715],[-103.87899398803711,37.72728027686003]]}}]}'

        // Тестируем функцию
        console.log('Testing findShortestPath function...');

        const startCoord = [-103.7906542490323, 38.079206170931116];
        const endCoord = [-103.7549486826264, 37.83883105544561];

        const result = findShortestPath(temp1.features, startCoord, endCoord);

        if (result) {
            console.log('✅ Path found successfully!');
            console.log('Result:', result);

            document.getElementById('result').innerHTML = `
                <h2>✅ Success!</h2>
                <p><strong>Path found with ${result.geometry.coordinates.length} waypoints</strong></p>
                <h3>Path coordinates:</h3>
                <pre>${JSON.stringify(result.geometry.coordinates, null, 2)}</pre>
                <h3>Full result:</h3>
                <pre>${JSON.stringify(result, null, 2)}</pre>
            `;
        } else {
            console.log('❌ No path found');
            document.getElementById('result').innerHTML = '<h2>❌ No path found</h2>';
        }

        // Тест с использованием указанного формата вызова
        console.log('\nTesting with exact format from user request:');
        const userResult = findShortestPath(temp1.features, [-103.7906542490323, 38.079206170931116], [-103.7549486826264, 37.83883105544561]);
        console.log('User format result:', userResult);
    </script>
</body>

</html>